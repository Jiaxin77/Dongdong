webpackJsonp([16],{lNiZ:function(e,t){},nJ9p:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("/MpH"),n=a("M9A7"),o={components:{},data:function(){return{id:localStorage.getItem("userId"),entInfo:{},dataRequired:[{name:"营业执照",propName:"businessLicense"},{name:"建筑资质",propName:"constructionQUAL"},{name:"安全生产许可证",propName:"securityLicense"},{name:"社保缴费证明",propName:"socialSecurityCert"},{name:"拟用工项目中标通知书或其他文件",propName:"noticeOfBid"},{name:"项目商业保险",propName:"businessItemInsurance"},{name:"无纳税异常声明",propName:"noTaxExpStatement"}],dataSelected:[{name:"土地使用证",propName:"landUseCert"},{name:"规划许可证",propName:"planningPermit"},{name:"施工许可证",propName:"constructionPermit"},{name:"开工报告",propName:"startReport"}],form:this.$form.createForm(this)}},mounted:function(){this.getEnterpriseInfoById(),this.$parent.showMenu=!0},beforeCreate:function(){},methods:{getEnterpriseInfoById:function(){var e=this;Object(r.g)(this.id).then(function(t){e.entInfo=t.data.data,console.log(e.entInfo)}).catch(function(e){console.log(e)})},handleSubmit:function(e){var t=this;e.preventDefault(),(0,this.form.validateFields)(function(e,a){if(!e){var r={enterName:a.enterName,id:t.id},o=t;Object(n.i)(r).then(function(e){25===e.data.result&&(alert("提交成功"),o.$router.push({path:"/entProfile"}))}).catch(function(e){console.log(e)})}})},normFile:function(e){return Array.isArray(e)?e:e&&e.fileList}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-layout",[a("a-layout-content",{staticStyle:{"min-width":"1200px","margin-right":"auto","margin-left":"auto",padding:"0 50px"}},[a("a-breadcrumb",{staticStyle:{margin:"16px 0"}},[a("a-breadcrumb-item",[e._v("首页")]),e._v(" "),a("a-breadcrumb-item",[e._v("企业资质")]),e._v(" "),a("a-breadcrumb-item",[e._v("修改企业资质")])],1),e._v(" "),a("div",{style:{background:"#fff",padding:"24px",minHeight:"280px"}},[a("a-row",{attrs:{type:"flex",justify:"center"}},[a("a-col",{attrs:{span:18}},[a("a-form",{attrs:{id:"components-form-demo-validate-other",form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"提交说明",labelCol:{span:2},wrapperCol:{span:14}}},[a("span",{staticClass:"ant-form-text"},[e._v("请提交图片或PDF格式的文件")])]),e._v(" "),a("a-form-item",{attrs:{label:"必填信息",labelCol:{span:2},wrapperCol:{span:14}}},[a("span",{staticClass:"ant-form-text"},[e._v("只有通过必填资料才能够发布用工需求哦")])]),e._v(" "),a("a-form-item",{attrs:{label:"企业名称",labelCol:{span:2},wrapperCol:{span:14}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["enterName",{rules:[{required:!0,message:"请输入企业名称"}]}],expression:"[\n                    'enterName',\n                    {rules: [{ required: true, message: '请输入企业名称' }]}\n                  ]"}],staticStyle:{width:"100%"},attrs:{placeholder:e.entInfo.enterName,name:"enterName"}})],1),e._v(" "),a("a-list",{attrs:{rowKey:"id",grid:{gutter:64,column:4},dataSource:e.dataRequired},scopedSlots:e._u([{key:"renderItem",fn:function(t){return a("a-list-item",{},[[a("a-form-item",[a("div",{staticClass:"dropbox"},[a("a-upload-dragger",{directives:[{name:"decorator",rawName:"v-decorator",value:["{{item.propName}}",{valuePropName:"{{item.propName}}",getValueFromEvent:e.normFile}],expression:"[\n                          '{{item.propName}}',\n                          {\n                            valuePropName: '{{item.propName}}',\n                            getValueFromEvent: normFile,\n\n                          }\n                        ]"}],attrs:{name:t.propName,action:"http://123.56.250.127:80/api/user/entInfoPost",data:{id:e.id}}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"file"}})],1),e._v(" "),a("p",{staticClass:"ant-upload-text"},[e._v(e._s(t.name))])])],1)])]],2)}}])},[e._v(" "),a("a-form-item",{attrs:{label:"选填信息",labelCol:{span:2},wrapperCol:{span:14}}},[a("span",{staticClass:"ant-form-text"},[e._v("完善选填资料能够帮助加快审核时间哦")])])],1),e._v(" "),a("a-list",{attrs:{rowKey:"id",grid:{gutter:64,column:4},dataSource:e.dataSelected},scopedSlots:e._u([{key:"renderItem",fn:function(t){return a("a-list-item",{},[[a("a-form-item",[a("div",{staticClass:"dropbox"},[a("a-upload-dragger",{directives:[{name:"decorator",rawName:"v-decorator",value:["{{item.name}}",{valuePropName:"{{item.propName}}",getValueFromEvent:e.normFile}],expression:"[\n                          '{{item.name}}',\n                          {\n                            valuePropName: '{{item.propName}}',\n                            getValueFromEvent: normFile,\n                          },\n                        ]"}],attrs:{name:t.propName,action:"http://123.56.250.127:80/api/user/entInfoPost",data:{id:e.id}}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"file"}})],1),e._v(" "),a("p",{staticClass:"ant-upload-text"},[e._v(e._s(t.name))])])],1)])]],2)}}])}),e._v(" "),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"},on:{click:e.postBasicInfo}},[e._v("确认修改")])],1)],1)],1)],1)],1)],1),e._v(" "),a("a-layout-footer",{staticStyle:{"text-align":"center"}},[e._v("DDDB ©2019 Created by 六芒星")])],1)},staticRenderFns:[]};var s=a("VU/8")(o,i,!1,function(e){a("lNiZ")},"data-v-5c8ca3a0",null);t.default=s.exports}});
//# sourceMappingURL=16.88e951cc5143a7f7a41f.js.map