webpackJsonp([13],{TJuJ:function(e,t){},Wi6l:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),s=a.n(r),n=a("/MpH"),l=a("M9A7");var o={name:"PostDemand",data:function(){return{entId:Number(localStorage.getItem("entId")),entAuthState:"",description:"",value:1,peopleNumber:{value:1},priceNumber:{value:1},img:a("OsXV"),form:this.$form.createForm(this)}},mounted:function(){this.$parent.showMenu=!0},created:function(){console.log(this.entId),this.getEnterpriseInfoById()},methods:{postDemand:function(){var e=this;(console.log(this.entAuthState),"已通过"===this.entAuthState)?(0,this.form.validateFields)(function(t,a){if(!t){void 0===a.description&&(a.description="");var r=s()({},a),n=e;Object(l.h)(r).then(function(e){console.log(e),25===e.data.result&&(console.log("ds"),n.$router.push({path:"/DemandSucceed"})),alert("发布成功")}).catch(function(e){console.log(e)})}}):this.error()},handlePriceNumberChange:function(e){this.priceNumber=s()({},e>0?{validatePriceStatus:"success",priceErrorMsg:null}:{validatePriceStatus:"error",priceErrorMsg:"所需人数必须大于1"},{value:e})},handlePeopleNumberChange:function(e){this.priceNumber=s()({},e>0?{validatePeopleStatus:"success",peopleErrorMsg:null}:{validatePeopleStatus:"error",peopleErrorMsg:"所需人数必须大于1"},{value:e})},getEnterpriseInfoById:function(){var e=this;Object(n.g)(this.entId).then(function(t){e.entAuthState=t.data.data.authState,e.error()}).catch(function(e){console.log(e)})},error:function(){"已通过"!=this.entAuthState&&this.$error({title:"企业资质未通过审核",content:"只有通过必填资料才能发布用工需求噢,请前往企业资质提交企业资质信息"})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"min-width":"1200px"}},[e._m(0),e._v(" "),a("a-form",{staticClass:"listpage",style:{backgroundImage:"url("+e.img+")",backgroundRepeat:e.no-e.repeat,center:e.center,top:e.top,backgroundSize:"100% 100%"},attrs:{bordered:!0,form:e.form}},[a("h3",{staticStyle:{color:"gray"}},[e._v("请填写下列表单")]),e._v(" "),a("a-form-item",{attrs:{label:"选择工种","label-col":{lg:{span:7},sm:{span:7}},"wrapper-col":{lg:{span:10},sm:{span:17}}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["needsFarmerType",{rules:[{required:!0,message:"请选择工种"}]}],expression:"[\n        'needsFarmerType',\n        {rules: [{ required: true, message: '请选择工种' }]}\n      ]"}],attrs:{placeholder:"请选择工种"}},[a("a-select-option",{attrs:{value:"钢筋班组"}},[e._v("钢筋班组")]),e._v(" "),a("a-select-option",{attrs:{value:"木工"}},[e._v("木工")]),e._v(" "),a("a-select-option",{attrs:{value:"架子工"}},[e._v("架子工")]),e._v(" "),a("a-select-option",{attrs:{value:"混凝土"}},[e._v("混凝土")]),e._v(" "),a("a-select-option",{attrs:{value:"砌砖"}},[e._v("砌砖")]),e._v(" "),a("a-select-option",{attrs:{value:"抹灰"}},[e._v("抹灰")]),e._v(" "),a("a-select-option",{attrs:{value:"油漆"}},[e._v("油漆")]),e._v(" "),a("a-select-option",{attrs:{value:"门窗"}},[e._v("门窗")]),e._v(" "),a("a-select-option",{attrs:{value:"防水"}},[e._v("防水")]),e._v(" "),a("a-select-option",{attrs:{value:"水电"}},[e._v("水电")]),e._v(" "),a("a-select-option",{attrs:{value:"其他"}},[e._v("其他")])],1)],1),e._v(" "),a("a-form-item",{attrs:{"label-col":{lg:{span:7},sm:{span:7}},"wrapper-col":{lg:{span:10},sm:{span:17}},label:"所需人数","validate-status":e.peopleNumber.validateStatus}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["needsNum",{rules:[{required:!0,message:"请输入需要人数"}]}],expression:"[\n        'needsNum',\n        {rules: [{ required: true, message: '请输入需要人数' }]}\n      ]"}],attrs:{min:0,value:e.peopleNumber.value,name:"needsNum"},on:{change:e.handlePeopleNumberChange}}),e._v("人\n    ")],1),e._v(" "),a("a-form-item",{attrs:{label:"工作地点",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["province",{rules:[{required:!0,message:"请输入省份"}]}],expression:"[\n        'province',\n        {rules: [{ required: true, message: '请输入省份' }]}\n      ]"}],staticStyle:{width:"20%"},attrs:{placeholder:"请输入",name:"province"}}),e._v("省\n      "),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["centre",{rules:[{required:!0,message:"请输入市级"}]}],expression:"[\n        'centre',\n        {rules: [{ required: true, message: '请输入市级' }]}\n      ]"}],staticStyle:{width:"20%"},attrs:{placeholder:"请输入",name:"centre"}}),e._v("市\n      "),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["local",{rules:[{required:!0,message:"请输入县级"}]}],expression:"[\n        'local',\n        {rules: [{ required: true, message: '请输入县级' }]}\n      ]"}],staticStyle:{width:"20%"},attrs:{placeholder:"请输入",name:"local"}}),e._v("县\n      "),a("a-input",{staticStyle:{width:"25%"},attrs:{placeholder:"请输入"}})],1),e._v(" "),a("a-form-item",{attrs:{label:"起止日期",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-range-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["buildTime",{rules:[{required:!0,message:"请选择起止日期"}]}],expression:"[\n        'buildTime',\n        {rules: [{ required: true, message: '请选择起止日期' }]}\n      ]"}],staticStyle:{width:"100%"},attrs:{name:"buildTime"}})],1),e._v(" "),a("a-form-item",{attrs:{"label-col":{lg:{span:7},sm:{span:7}},"wrapper-col":{lg:{span:10},sm:{span:17}},label:"价值包","validate-status":e.priceNumber.validateStatus}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["price",{rules:[{required:!0,message:"请输入价值包"}]}],expression:"[\n        'price',\n        {rules: [{ required: true, message: '请输入价值包' }]}\n      ]"}],attrs:{min:0,value:e.priceNumber.value,name:"price"},on:{change:e.handlePriceNumberChange}}),e._v("元\n    ")],1),e._v(" "),a("a-form-item",{attrs:{label:"其他要求",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description"],expression:"[\n        'description'\n      ]"}],attrs:{rows:"4",placeholder:"身体健康等其他要求"}})],1),e._v(" "),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"},on:{click:e.postDemand}},[e._v("发布需求")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mlist-control ant-list-bordered"},[t("h3",{staticStyle:{"margin-left":"30px"}},[this._v("发布需求")])])}]};var c=a("VU/8")(o,i,!1,function(e){a("TJuJ")},"data-v-a31dc26a",null);t.default=c.exports}});
//# sourceMappingURL=13.d48043e1a63896b881c2.js.map