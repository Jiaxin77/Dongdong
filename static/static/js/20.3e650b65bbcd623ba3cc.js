webpackJsonp([20],{"0yWw":function(t,e){},MJGQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Gu7T"),i=n.n(a),s=n("/MpH"),o={data:function(){return{id:localStorage.getItem("userId"),loading:!1,loadingMore:!1,showLoadingMore:!0,enterName:"全部",needsType:"全部",entList:[],needList:[],filterList:[],img:n("OsXV")}},created:function(){this.$parent.showMenu=!1,this.$parent.showSiderMenu=!0},computed:{list:function(){},paginationProps:function(){return{pageSize:6,total:this.data.length}},data:function(){var t=this,e=[].concat(i()(this.needList));return"匹配中"===this.needsType?e=e.filter(function(t){return"匹配中"==t.needsType}):"匹配完成待支付"===this.needsType?e=e.filter(function(t){return"匹配完成待支付"==t.needsType}):"交易成功"===this.needsType?e=e.filter(function(t){return"交易成功"==t.needsType}):"匹配失败"===this.needsType&&(e=e.filter(function(t){return"匹配失败"==t.needsType})),"全部"!=this.enterName&&(e=e.filter(function(e){return e.enterName==t.enterName})),e}},mounted:function(){this.getEnterpriseList(),this.getDemandsList()},methods:{machineStatusStyleAvatar:function(t){return"匹配中"==t?{"background-color":"#D39846"}:"匹配失败"==t?{"background-color":"#ABABAA"}:"匹配完成待支付"==t?{"background-color":"#314659"}:"交易成功"==t?{"background-color":"#4F5F46"}:void 0},machineStatusStyle:function(t){return"匹配中"==t?{color:"#D39846"}:"匹配失败"==t?{color:"#ABABAA"}:"匹配完成待支付"==t?{color:"#314659"}:"交易成功"==t?{color:"#4F5F46"}:void 0},getEnterpriseList:function(){var t=this;Object(s.h)().then(function(e){t.entList=e.data.data,console.log(t.entList)}).catch(function(t){console.log(t)})},getDemandsList:function(){var t=this;Object(s.e)().then(function(e){t.needList=e.data.data,console.log(t.needList)}).catch(function(t){console.log(t)})},handleTypeChange:function(t){this.needsType=t},handleEnterNameChange:function(t){this.enterName=t},onSearch:function(){},getDemandDetail:function(t){this.$router.push({name:"ManDemandDetail",query:{id:t}})}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-row",{staticStyle:{"min-width":"1400px"},attrs:{type:"flex",justify:"end"}},[n("a-col",{staticStyle:{width:"85%"}},[n("div",[n("div",{staticClass:"mlist-control ant-list-bordered"},[n("div",{staticClass:"list-control-finish"},[n("a-form",{attrs:{layout:"inline",form:t.form},on:{submit:t.handleSubmit}},[n("a-form-item",{attrs:{label:"选择企业"}},[n("a-select",{staticStyle:{width:"200px"},attrs:{value:t.enterName},on:{change:t.handleEnterNameChange}},[n("a-select-option",{attrs:{value:"全部"}},[t._v("全部")]),t._v(" "),t._l(t.entList,function(e){return n("a-select-option",{key:e,attrs:{value:e.enterName}},[t._v(t._s(e.enterName))])})],2)],1),t._v(" "),n("a-form-item",{attrs:{label:"需求状态"}},[n("a-select",{staticStyle:{width:"200px"},attrs:{value:t.needsType},on:{change:t.handleTypeChange}},[n("a-select-option",{attrs:{value:"全部"}},[t._v("全部")]),t._v(" "),n("a-select-option",{attrs:{value:"匹配中"}},[t._v("匹配中")]),t._v(" "),n("a-select-option",{attrs:{value:"匹配完成待支付"}},[t._v("匹配完成待支付")]),t._v(" "),n("a-select-option",{attrs:{value:"交易成功"}},[t._v("交易成功")]),t._v(" "),n("a-select-option",{attrs:{value:"匹配失败"}},[t._v("匹配失败")])],1)],1)],1)],1)]),t._v(" "),n("a-list",{staticClass:"listpage",style:{backgroundImage:"url("+t.img+")",backgroundRepeat:t.no-t.repeat,center:t.center,top:t.top,backgroundSize:"100% 100%"},attrs:{bordered:!0,pagination:t.paginationProps,loading:t.loading,itemLayout:"horizontal",dataSource:t.data},scopedSlots:t._u([{key:"renderItem",fn:function(e){return n("a-list-item",{},[n("a-button",{attrs:{slot:"actions",type:"primary"},on:{click:function(n){return t.getDemandDetail(e.id)}},slot:"actions"},[t._v("查看")]),t._v(" "),n("a-list-item-meta",{attrs:{description:e.needsDes}},[n("a",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.needsFarmerType))]),t._v(" "),n("a-avatar",{staticStyle:{width:"50px",height:"50px","padding-top":"25px"},style:t.machineStatusStyleAvatar(e.needsType),attrs:{slot:"avatar",shape:"square"},slot:"avatar"},[t._v("Task")])],1),t._v(" "),n("span",{staticClass:"ant-list-item-meta-description",staticStyle:{width:"150px","margin-right":"30px"}},[t._v("\n            发布时间\n            "),n("br"),t._v("\n            "+t._s(e.needsTime)+"\n          ")]),t._v(" "),n("span",{staticClass:"ant-list-item-meta-description",staticStyle:{width:"150px","margin-right":"30px"}},[t._v("\n            开工时间\n            "),n("br"),t._v("\n            "+t._s(e.needsBeginTime)+"\n          ")]),t._v(" "),n("span",{staticClass:"ant-list-item-meta-description",staticStyle:{display:"inline-block",width:"200px","align-self":"center"},style:t.machineStatusStyle(e.needsType)},[t._v(t._s(e.needsType))])],1)}}])},[t._v(" "),n("br")]),t._v(" "),n("a-layout-footer",{staticStyle:{textAlign:"center"}},[t._v("DDDB ©2019 Created by 六芒星")])],1)])],1)},staticRenderFns:[]};var l=n("VU/8")(o,r,!1,function(t){n("0yWw")},"data-v-1bb7a3b9",null);e.default=l.exports}});
//# sourceMappingURL=20.3e650b65bbcd623ba3cc.js.map