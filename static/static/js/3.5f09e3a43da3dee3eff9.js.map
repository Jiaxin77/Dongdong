{"version":3,"sources":["webpack:///src/views/User/register.vue","webpack:///./src/views/User/register.vue?a877","webpack:///./src/views/User/register.vue"],"names":["levelNames","0","1","2","3","levelClass","levelColor","register","name","components","data","form","this","$form","createForm","state","time","smsSendBtn","passwordLevel","passwordLevelChecked","percent","progressColor","registerBtn","imgbg","__webpack_require__","computed","passwordLevelClass","passwordLevelName","passwordLevelColor","methods","handlePasswordLevel","rule","value","callback","level","test","Error","handleSubmit","_this","validateFields","force","err","values","registerParams","extends_default","user_type","that","Object","login","then","response","result","alert","$router","push","path","requestFailed","$notification","message","description","duration","watch","state.passwordLevel","val","User_register","render","_vm","_h","$createElement","_c","_self","staticStyle","height","padding","min-width","style","backgroundImage","backgroundRepeat","no","repeat","center","top","backgroundSize","staticClass","attrs","type","justify","span","_v","ref","id","directives","rawName","rules","required","validateTrigger","expression","size","placeholder","placement","trigger","getPopupContainer","parentElement","model","$$v","$set","slot","width","class","_s","showInfo","strokeColor","margin-top","validator","autocomplete","htmlType","loading","disabled","on","click","$event","stopPropagation","preventDefault","to","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.5f09e3a43da3dee3eff9.js","sourcesContent":["<template>\n  <div\n    style=\"height: 100%;padding: 15%;min-width: 1200px\"\n    :style=\"{backgroundImage: 'url(' + imgbg + ')', backgroundRepeat:no-repeat,center,top,\n          backgroundSize:'100% 100% '}\">\n    <div class=\"main user-layout-register\"\n    >\n      <a-row type=\"flex\" justify=\"center\">\n        <a-col :span=\"6\">\n          <h3>\n            <span>快捷注册</span>\n          </h3>\n          <a-form ref=\"formRegister\" :form=\"form\" id=\"formRegister\">\n            <a-form-item>\n              <a-input\n                size=\"large\"\n                type=\"text\"\n                placeholder=\"用户名\"\n                v-decorator=\"['username', {rules: [{ required: true, message: '请输入用户名' }], validateTrigger: ['change', 'blur']}]\"\n              ></a-input>\n            </a-form-item>\n\n            <a-popover\n              placement=\"rightTop\"\n              :trigger=\"['focus']\"\n              :getPopupContainer=\"(trigger) => trigger.parentElement\"\n              v-model=\"state.passwordLevelChecked\"\n            >\n              <template slot=\"content\">\n                <div :style=\"{ width: '240px' }\">\n                  <div :class=\"['user-register', passwordLevelClass]\">\n                    强度：\n                    <span>{{ passwordLevelName }}</span>\n                  </div>\n                  <a-progress\n                    :percent=\"state.percent\"\n                    :showInfo=\"false\"\n                    :strokeColor=\" passwordLevelColor \"\n                  />\n                  <div style=\"margin-top: 10px;\">\n                    <span>请至少输入 6 个字符。请不要使用容易被猜到的密码。</span>\n                  </div>\n                </div>\n              </template>\n              <a-form-item>\n                <a-input\n                  size=\"large\"\n                  type=\"password\"\n                  autocomplete=\"false\"\n                  placeholder=\"须为数字和字母组合\"\n                  v-decorator=\"['password', {rules: [{ required: true, message: '须为数字和字母组合'}, { validator: this.handlePasswordLevel }], validateTrigger: ['change', 'blur']}]\"\n                ></a-input>\n              </a-form-item>\n            </a-popover>\n            <a-form-item>\n              <a-button\n                size=\"large\"\n                type=\"primary\"\n                htmlType=\"submit\"\n                class=\"register-button\"\n                :loading=\"registerBtn\"\n                @click.stop.prevent=\"handleSubmit\"\n                :disabled=\"registerBtn\"\n              >立即注册</a-button>\n              <router-link class=\"login\" to=\"/login\">使用已有账户登录</router-link>\n            </a-form-item>\n          </a-form>\n        </a-col>\n      </a-row>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport { register } from '@/api/login'\nconst levelNames = {\n  0: '低',\n  1: '低',\n  2: '中',\n  3: '强'\n}\nconst levelClass = {\n  0: 'error',\n  1: 'error',\n  2: 'warning',\n  3: 'success'\n}\nconst levelColor = {\n  0: '#ff0000',\n  1: '#ff0000',\n  2: '#ff7e05',\n  3: '#52c41a'\n}\nexport default {\n  name: 'Register',\n  components: {},\n  data () {\n    return {\n      form: this.$form.createForm(this),\n\n      state: {\n        time: 60,\n        smsSendBtn: false,\n        passwordLevel: 0,\n        passwordLevelChecked: false,\n        percent: 10,\n        progressColor: '#FF0000'\n      },\n      registerBtn: false,\n      imgbg:require('../../assets/dddb-webEnt/A2.1-changecode-bg.png'),\n    }\n  },\n  computed: {\n    passwordLevelClass () {\n      return levelClass[this.state.passwordLevel]\n    },\n    passwordLevelName () {\n      return levelNames[this.state.passwordLevel]\n    },\n    passwordLevelColor () {\n      return levelColor[this.state.passwordLevel]\n    }\n  },\n  methods: {\n    handlePasswordLevel (rule, value, callback) {\n      let level = 0\n\n      // 判断这个字符串中有没有数字\n      if (/[0-9]/.test(value)) {\n        level++\n      }\n      // 判断字符串中有没有字母\n      if (/[a-zA-Z]/.test(value)) {\n        level++\n      }\n      // 判断字符串中有没有特殊符号\n      if (/[^0-9a-zA-Z_]/.test(value)) {\n        level++\n      }\n      this.state.passwordLevel = level\n      this.state.percent = level * 30\n      if (level >= 2) {\n        if (level >= 3) {\n          this.state.percent = 100\n        }\n        callback()\n      } else {\n        if (level === 0) {\n          this.state.percent = 10\n        }\n        callback(new Error('密码强度不够'))\n      }\n    },\n\n    handleSubmit () {\n      const {\n        form: { validateFields },\n        state\n        // $router\n      } = this\n      validateFields({ force: true }, (err, values) => {\n        if (!err) {\n          const registerParams = { ...values,user_type:'ent' }\n          const that = this\n          state.passwordLevelChecked = false\n          register(registerParams).then(function (response) {\n            if (response.data.result === 25) {\n              alert('注册成功，请重新登录')\n              that.$router.push({ path: '/login' })\n            } else if (response.data.result === 40) {\n              alert('学号已存在，请直接登录')\n              that.$router.push({ path: '/login' })\n            }\n          })\n          // $router.push({ name: 'registerResult', params: { ...values } })\n        }\n      })\n    },\n\n    requestFailed (err) {\n      this.$notification['error']({\n        message: '错误',\n        description:\n          ((err.response || {}).data || {}).message ||\n          '请求出现错误，请稍后再试',\n        duration: 4\n      })\n      this.registerBtn = false\n    }\n  },\n  watch: {\n    'state.passwordLevel' (val) {\n    }\n  }\n}\n</script>\n<style lang=\"less\">\n.user-register {\n  &.error {\n    color: #ff0000;\n  }\n\n  &.warning {\n    color: #ff7e05;\n  }\n\n  &.success {\n    color: #52c41a;\n  }\n}\n\n.user-layout-register {\n  .ant-input-group-addon:first-child {\n    background-color: #fff;\n  }\n}\n</style>\n<style lang=\"less\" scoped>\n.user-layout-register {\n  & > h3 {\n    font-size: 16px;\n    margin-bottom: 20px;\n  }\n\n  .getCaptcha {\n    display: block;\n    width: 100%;\n    height: 40px;\n  }\n\n  .register-button {\n    width: 50%;\n  }\n\n  .login {\n    float: right;\n    line-height: 40px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/User/register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"padding\":\"15%\",\"min-width\":\"1200px\"},style:({backgroundImage: 'url(' + _vm.imgbg + ')', backgroundRepeat:_vm.no-_vm.repeat,center: _vm.center,top: _vm.top,\n        backgroundSize:'100% 100% '})},[_c('div',{staticClass:\"main user-layout-register\"},[_c('a-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('a-col',{attrs:{\"span\":6}},[_c('h3',[_c('span',[_vm._v(\"快捷注册\")])]),_vm._v(\" \"),_c('a-form',{ref:\"formRegister\",attrs:{\"form\":_vm.form,\"id\":\"formRegister\"}},[_c('a-form-item',[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['username', {rules: [{ required: true, message: '请输入用户名' }], validateTrigger: ['change', 'blur']}]),expression:\"['username', {rules: [{ required: true, message: '请输入用户名' }], validateTrigger: ['change', 'blur']}]\"}],attrs:{\"size\":\"large\",\"type\":\"text\",\"placeholder\":\"用户名\"}})],1),_vm._v(\" \"),_c('a-popover',{attrs:{\"placement\":\"rightTop\",\"trigger\":['focus'],\"getPopupContainer\":function (trigger) { return trigger.parentElement; }},model:{value:(_vm.state.passwordLevelChecked),callback:function ($$v) {_vm.$set(_vm.state, \"passwordLevelChecked\", $$v)},expression:\"state.passwordLevelChecked\"}},[_c('template',{slot:\"content\"},[_c('div',{style:({ width: '240px' })},[_c('div',{class:['user-register', _vm.passwordLevelClass]},[_vm._v(\"\\n                  强度：\\n                  \"),_c('span',[_vm._v(_vm._s(_vm.passwordLevelName))])]),_vm._v(\" \"),_c('a-progress',{attrs:{\"percent\":_vm.state.percent,\"showInfo\":false,\"strokeColor\":_vm.passwordLevelColor}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('span',[_vm._v(\"请至少输入 6 个字符。请不要使用容易被猜到的密码。\")])])],1)]),_vm._v(\" \"),_c('a-form-item',[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['password', {rules: [{ required: true, message: '须为数字和字母组合'}, { validator: this.handlePasswordLevel }], validateTrigger: ['change', 'blur']}]),expression:\"['password', {rules: [{ required: true, message: '须为数字和字母组合'}, { validator: this.handlePasswordLevel }], validateTrigger: ['change', 'blur']}]\"}],attrs:{\"size\":\"large\",\"type\":\"password\",\"autocomplete\":\"false\",\"placeholder\":\"须为数字和字母组合\"}})],1)],2),_vm._v(\" \"),_c('a-form-item',[_c('a-button',{staticClass:\"register-button\",attrs:{\"size\":\"large\",\"type\":\"primary\",\"htmlType\":\"submit\",\"loading\":_vm.registerBtn,\"disabled\":_vm.registerBtn},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_vm._v(\"立即注册\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"login\",attrs:{\"to\":\"/login\"}},[_vm._v(\"使用已有账户登录\")])],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62970704\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/User/register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62970704\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"modifyVars\\\":{\\\"primary-color\\\":\\\"#B80C0A\\\",\\\"menu-dark-bg\\\":\\\"#000\\\",\\\"link-color\\\":\\\"#B80C0A\\\",\\\"border-radius-base\\\":\\\"2px\\\",\\\"table-header-bg\\\":\\\"#B80C0A\\\",\\\"table-header-color\\\":\\\"#FFF\\\"},\\\"javascriptEnabled\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./register.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62970704\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"modifyVars\\\":{\\\"primary-color\\\":\\\"#B80C0A\\\",\\\"menu-dark-bg\\\":\\\"#000\\\",\\\"link-color\\\":\\\"#B80C0A\\\",\\\"border-radius-base\\\":\\\"2px\\\",\\\"table-header-bg\\\":\\\"#B80C0A\\\",\\\"table-header-color\\\":\\\"#FFF\\\"},\\\"javascriptEnabled\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./register.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62970704\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-62970704\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/User/register.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}